<!DOCTYPE html>
<html lang="zh-Hant">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>防洪防災偵測系統</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <!-- 標題區 -->
    <header class="header">
        <h1>防洪防災偵測系統</h1>
    </header>

    <!-- 警示區 -->
    <div id="alert" class="alert">⚠️ 無警示 ⚠️</div>

    <!-- 即時影像區 -->
    <div class="section">
        <h2>即時影像畫面</h2>
        <!-- TODO: 之後請替換成後端提供的串流網址 -->
        <img id="cameraFeed" src="http://localhost:8000/video/stream" alt="即時影像" width="600">
        <p id="cameraStatus">攝影機狀態：讀取中...</p>
    </div>

    <!-- 即時水位資訊 -->
    <div class="section">
        <h2>即時水位資訊</h2>
        <p id="waterLevel">讀取中...</p>
    </div>

    <!-- 最後更新時間 -->
    <div class="section">
        <h2>資料更新狀態</h2>
        <p id="updateTime">資料更新時間：讀取中...</p>
    </div>

    <!-- 歷史紀錄查詢區 -->
    <div class="section">
        <h2>歷史紀錄查詢</h2>

        <!-- 日期與地點查詢 -->
        <label for="queryDate">選擇日期：</label>
        <input type="date" id="queryDate">

        <label for="locationFilter" style="margin-left: 10px;">選擇地點：</label>
        <select id="locationFilter">
            <option value="">請選擇</option>
            <option value="成美橋">成美橋</option>
            <option value="南港橋">南港橋</option>
        </select>

        <button onclick="fetchHistory()">查詢</button>

        <!-- 歷史紀錄表格 -->
        <table>
            <thead>
                <tr>
                    <th>日期</th>
                    <th>時間</th>
                    <th>地點</th>
                    <th>人員狀態</th>
                </tr>
            </thead>
            <tbody id="historyTable">
                <tr><td colspan="4">請選擇條件查詢</td></tr>
            </tbody>
        </table>
    </div>

    <!-- 音效播放元件（暫緩，可先放） -->
    <!-- <audio id="alarmSound" src="alarm.mp3" preload="auto"></audio> -->

    <script src="script.js"></script>
</body>

</h
